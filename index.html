<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>حالة الاتصال</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Cairo', sans-serif;
    }

    body, html {
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: linear-gradient(to bottom, #f0f2f5, #e4eaf1);
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: none;
      opacity: 0;
      animation: fadeIn 1s ease-in-out forwards;
    }

    .no-internet {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #ffffffd9;
      backdrop-filter: blur(6px);
      padding: 50px 30px;
      border-radius: 20px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
      text-align: center;
      max-width: 400px;
      width: 90%;
      animation: fadeSlideIn 1.2s ease-in-out;
    }

    .icon {
      width: 100px;
      height: 100px;
      margin: 0 auto 20px;
      animation: bounceIn 1s ease-out;
    }

    .wifi-line {
      stroke-dasharray: 200;
      stroke-dashoffset: 200;
      animation: drawLine 1.5s ease-out forwards, pulseLine 2s infinite ease-in-out;
    }

    h1 {
      font-size: 24px;
      color: #2c3e50;
      margin-bottom: 12px;
      animation: fadeInDown 1s ease-out;
    }

    p {
      font-size: 16px;
      color: #555;
      margin-bottom: 25px;
      animation: fadeInUp 1.5s ease-out;
    }

    button {
      background-color: #1877f2;
      color: white;
      padding: 12px 30px;
      font-size: 15px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      transition: background-color 0.3s, transform 0.2s;
      animation: fadeInUp 2s ease-out;
    }

    button:hover {
      background-color: #125ecf;
      transform: scale(1.03);
    }

    /* === Animations === */
    @keyframes fadeIn {
      to { display: block; opacity: 1; }
    }

    @keyframes fadeSlideIn {
      from {
        opacity: 0;
        transform: translate(-50%, -60%);
      }
      to {
        opacity: 1;
        transform: translate(-50%, -50%);
      }
    }

    @keyframes drawLine {
      to { stroke-dashoffset: 0; }
    }

    @keyframes pulseLine {
      0%, 100% { stroke: #d32f2f; }
      50% { stroke: #ff3d3d; }
    }

    @keyframes bounceIn {
      0% { opacity: 0; transform: scale(0.6); }
      60% { opacity: 1; transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <!-- ✅ عرض الموقع عند وجود الإنترنت -->
  <iframe id="mainFrame" src="https://sdcvbns.github.io/gdeer/"></iframe>

  <!-- ✅ واجهة قطع الإنترنت -->
  <div id="noInternet" class="no-internet">
    <div class="icon">
      <!-- SVG WiFi Modern Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" fill="none">
        <path d="M32 48a4 4 0 110 8 4 4 0 010-8z" fill="#1877f2"/>
        <path d="M21.76 41.76a16 16 0 0120.48 0" stroke="#1877f2" stroke-width="3" stroke-linecap="round"/>
        <path d="M13.6 33.6a28 28 0 0136.8 0" stroke="#1877f2" stroke-width="3" stroke-linecap="round"/>
        <path d="M4 24C13.2 14.67 24.53 10 32 10s18.8 4.67 28 14" stroke="#1877f2" stroke-width="3" stroke-linecap="round"/>
        <line class="wifi-line" x1="12" y1="12" x2="52" y2="52" stroke="#d32f2f" stroke-width="4" stroke-linecap="round"/>
      </svg>
    </div>
    <h1>لا يوجد اتصال بالإنترنت</h1>
    <p>يرجى التأكد من الاتصال بالشبكة أو المحاولة لاحقًا.</p>
    <button onclick="location.reload()">تحديث</button>
  </div>

  <!-- ✅ JS يتحقق من الاتصال -->
  <script>
    function checkConnection() {
      const frame = document.getElementById('mainFrame');
      const noNet = document.getElementById('noInternet');

      if (navigator.onLine) {
        noNet.style.display = "none";
        frame.style.display = "block";
        frame.style.opacity = "1";
      } else {
        frame.style.display = "none";
        noNet.style.display = "block";
      }
    }

    // أول تشغيل
    checkConnection();

    // مراقبة تغيّر الاتصال
    window.addEventListener('online', checkConnection);
    window.addEventListener('offline', checkConnection);
  </script>
</body>
</html>